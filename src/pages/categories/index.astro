---
import PageLayout from '../../layouts/PageLayout.astro';
import Breadcrumb from '../../components/ui/Breadcrumb.astro';
import CategoryIcon from '../../components/ui/CategoryIcon.astro';
import { getSuperCategories, categoryLabel, url } from '../../lib/utils';

const superCategories = getSuperCategories();
---

<PageLayout title="Categories" description="Browse all categories â€” organized into six groups for easy navigation.">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12">
    <Breadcrumb items={[{ label: 'Categories' }]} />
    <h1 class="text-2xl sm:text-3xl font-bold text-dark-text mt-4 mb-2">Categories</h1>
    <p class="text-dark-text/60 mb-10 max-w-2xl">Browse recipes and guides organized into six groups. Pick a category to explore.</p>

    <div class="space-y-10">
      {superCategories.map((sc) => (
        <section>
          <div class="flex items-center gap-3 mb-4">
            <span class="text-2xl">{sc.icon}</span>
            <div>
              <h2 class="text-xl font-semibold text-dark-text">{sc.name}</h2>
              <p class="text-sm text-dark-text/50">{sc.description}</p>
            </div>
          </div>
          <div class="flex flex-wrap gap-2">
            {sc.subcategories.map((slug) => (
              <a
                href={url(`/categories/${slug}/`)}
                class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-dark-surface hover:bg-dark-elevated text-sm text-dark-text/80 hover:text-dark-text no-underline transition-colors"
              >
                <CategoryIcon slug={slug} size="sm" class="text-sage-light/60" />
                {categoryLabel(slug)}
              </a>
            ))}
          </div>
        </section>
      ))}
    </div>
  </div>
</PageLayout>
